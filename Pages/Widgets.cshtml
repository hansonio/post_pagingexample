@page
@model MyApp.Namespace.WidgetsModel
@{
   Layout="_Layout";
}

<h2>Widgets</h2>
<hr/>

<div class="container-fluid">
   <div class="row pb-2">
      <div class="col-6">
         <form method="get" name="filterForm" >
            <input class="form-control" asp-for="Filter" placeholder="filter" autofocus/>
         </form>
      </div>
      <div class="col-6 text-right">
      </div>
   </div>
   
   <table class="table table-hover table-striped">
      <thead>
         <tr>
             <th>Name</th>
             <th>Part Number</th>
             <th>Description</th>
             <th>Quantity</th>
             <th>Price</th>
         </tr>
      </thead>
      <tbody>
         @foreach(var w in Model.Widgets){
             <tr>
                 <td>@w.Name</td>
                 <td>@w.PartNumber</td>
                 <td>@w.Description</td>
                 <td>@w.Quantity</td>
                 <td>@w.Price.ToString("C")</td>
             </tr>
         }
         
         @if(Model.Widgets.TotalItems == 0){
            <tr>
               <td colspan="10" class="text-center">
                   no widgets available
                   @if(string.IsNullOrWhiteSpace(Model.Filter)){
                    <form method="post">
                        <button type="submit" class="btn btn-primary">Create Data</button>
                    </form>
                   }
               </td>
            </tr>
                
         }
      </tbody>
   </table>

   <vc:pagination values="Model.Widgets" route-data="Model.LinkData"/>

</div>